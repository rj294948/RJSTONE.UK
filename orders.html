<!DOCTYPE html>
<html>
<head>
<title>My Orders</title>
<style>
body { font-family: Arial; background:#f5f5f5; padding:10px; }
.order {
  background:#fff;
  padding:15px;
  margin-bottom:10px;
  border-radius:8px;
}
.status { font-size:12px; color:#0d6efd; }
button { margin-top:8px; padding:6px 10px; }
</style>
</head>

<body>
<h2>My Orders</h2>
<div id="orders"></div>

<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/12.6.0/firebase-app.js";
import { getFirestore, collection, getDocs } from "https://www.gstatic.com/firebasejs/12.6.0/firebase-firestore.js";

const app = initializeApp({ projectId:"iryastone-uk" });
const db = getFirestore(app);

const userId = "dCVM344so3VCKQGNdsHm2aUZrKA3";
const ordersDiv = document.getElementById("orders");

const snap = await getDocs(collection(db,"users",userId,"orders"));
snap.forEach(d => {
  const o = d.data();
  ordersDiv.innerHTML += `
    <div class="order">
      <b>${o.orderNumber}</b>
      <p>Total: Â£${o.total}</p>
      <p class="status">Status: ${o.paymentStatus}</p>
      <button onclick="location.href='order-details.html?id=${d.id}'">
        View Order
      </button>
    </div>
  `;
});
</script>
</body>
</html>
