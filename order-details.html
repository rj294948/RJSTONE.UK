<!DOCTYPE html>
<html>
<head>
<title>Order Details</title>
<style>
body { font-family: Arial; padding:10px; }
.box { background:#fff; padding:15px; margin-bottom:10px; }
</style>
</head>

<body>
<h2>Order Details</h2>
<div id="details"></div>

<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/12.6.0/firebase-app.js";
import { getFirestore, doc, getDoc } from "https://www.gstatic.com/firebasejs/12.6.0/firebase-firestore.js";

const app = initializeApp({ projectId:"iryastone-uk" });
const db = getFirestore(app);

const userId = "dCVM344so3VCKQGNdsHm2aUZrKA3";
const orderId = new URLSearchParams(location.search).get("id");

const snap = await getDoc(doc(db,"users",userId,"orders",orderId));
const o = snap.data();

document.getElementById("details").innerHTML = `
  <div class="box">
    <b>Order:</b> ${o.orderNumber}<br>
    <b>Payment:</b> ${o.paymentMethod}<br>
    <b>Paid:</b> £${o.submittedAmount}<br>
    <b>Remaining:</b> £${o.remainingPayment}<br>
    <b>Status:</b> ${o.paymentStatus}
  </div>

  <button onclick="location.href='order-tracking.html?id=${orderId}'">
    Track Order
  </button>
`;
</script>
</body>
</html>
